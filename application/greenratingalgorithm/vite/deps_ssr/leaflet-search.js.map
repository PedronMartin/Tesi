{
  "version": 3,
  "sources": ["../../../../../../node_modules/leaflet-search/dist/leaflet-search.src.js"],
  "sourcesContent": ["/* \n * Leaflet Control Search v3.0.5 - 2022-11-24 \n * \n * Copyright 2022 Stefano Cudini \n * stefano.cudini@gmail.com \n * https://opengeo.tech/ \n * \n * Licensed under the MIT license. \n * \n * Demo: \n * https://opengeo.tech/maps/leaflet-search/ \n * \n * Source: \n * git@github.com:stefanocudini/leaflet-search.git \n * \n */\n/*\n\tName\t\t\t\t\tData passed\t\t\t   Description\n\n\tManaged Events:\n\t search:locationfound\t{latlng, title, layer} fired after moved and show markerLocation\n\t search:expanded\t\t{}\t\t\t\t\t   fired after control was expanded\n\t search:collapsed\t\t{}\t\t\t\t\t   fired after control was collapsed\n \t search:cancel\t\t\t{}\t\t\t\t\t   fired after cancel button clicked\n\n\tPublic methods:\n\t setLayer()\t\t\t\tL.LayerGroup()         set layer search at runtime\n\t showAlert()            'Text message'         show alert message\n\t searchText()\t\t\t'Text searched'        search text by external code\n*/\n\n//TODO implement can do research on multiple sources layers and remote\t\t\n//TODO history: false,\t\t//show latest searches in tooltip\t\t\n//FIXME option condition problem {autoCollapse: true, markerLocation: true} not show location\n//FIXME option condition problem {autoCollapse: false }\n//\n//TODO here insert function  search inputText FIRST in _recordsCache keys and if not find results.. \n//  run one of callbacks search(sourceData,jsonpUrl or options.layer) and run this.showTooltip\n//\n//TODO change structure of _recordsCache\n//\tlike this: _recordsCache = {\"text-key1\": {loc:[lat,lng], ..other attributes.. }, {\"text-key2\": {loc:[lat,lng]}...}, ...}\n//\tin this mode every record can have a free structure of attributes, only 'loc' is required\n//TODO important optimization!!! always append data in this._recordsCache\n//  now _recordsCache content is emptied and replaced with new data founded\n//  always appending data on _recordsCache give the possibility of caching ajax, jsonp and layersearch!\n//\n//TODO here insert function  search inputText FIRST in _recordsCache keys and if not find results.. \n//  run one of callbacks search(sourceData,jsonpUrl or options.layer) and run this.showTooltip\n//\n//TODO change structure of _recordsCache\n//\tlike this: _recordsCache = {\"text-key1\": {loc:[lat,lng], ..other attributes.. }, {\"text-key2\": {loc:[lat,lng]}...}, ...}\n//\tin this way every record can have a free structure of attributes, only 'loc' is required\n\n(function (factory) {\n    if(typeof define === 'function' && define.amd) {\n    //AMD\n        define(['leaflet'], factory);\n    } else if(typeof module !== 'undefined') {\n    // Node/CommonJS\n        module.exports = factory(require('leaflet'));\n    } else {\n    // Browser globals\n        if(typeof window.L === 'undefined')\n            throw 'Leaflet must be loaded first';\n        factory(window.L);\n    }\n})(function (L) {\n\n\nL.Control.Search = L.Control.extend({\n\t\n\tincludes: L.version[0]==='1' ? L.Evented.prototype : L.Mixin.Events,\n\n\toptions: {\n\t\turl: '',\t\t\t\t\t\t//url for search by ajax request, ex: \"search.php?q={s}\". Can be function to returns string for dynamic parameter setting\n\t\tlayer: null,\t\t\t\t\t//layer where search markers(is a L.LayerGroup)\t\t\t\t\n\t\tsourceData: null,\t\t\t\t//function to fill _recordsCache, passed searching text by first param and callback in second\t\t\t\t\n\t\t//TODO implements uniq option 'sourceData' to recognizes source type: url,array,callback or layer\t\t\t\t\n\t\tjsonpParam: null,\t\t\t\t//jsonp param name for search by jsonp service, ex: \"callback\"\n\t\tpropertyLoc: 'loc',\t\t\t\t//field for remapping location, using array: ['latname','lonname'] for select double fields(ex. ['lat','lon'] ) support dotted format: 'prop.subprop.title'\n\t\tpropertyName: 'title',\t\t\t//property in marker.options(or feature.properties for vector layer) trough filter elements in layer,\n\t\tformatData: null,\t\t\t\t//callback for reformat all data from source to indexed data object\n\t\tfilterData: null,\t\t\t\t//callback for filtering data from text searched, params: textSearch, allRecords\n\t\tmoveToLocation: null,\t\t\t//callback run on location found, params: latlng, title, map\n\t\tbuildTip: null,\t\t\t\t\t//function to return row tip html node(or html string), receive text tooltip in first param\n\t\tcontainer: '',\t\t\t\t\t//container id to insert Search Control\t\t\n\t\tzoom: null,\t\t\t\t\t\t//default zoom level for move to location\n\t\tminLength: 1,\t\t\t\t\t//minimal text length for autocomplete\n\t\tinitial: true,\t\t\t\t\t//search elements only by initial text\n\t\tcasesensitive: false,\t\t\t//search elements in case sensitive text\n\t\tautoType: true,\t\t\t\t\t//complete input with first suggested result and select this filled-in text.\n\t\tdelayType: 400,\t\t\t\t\t//delay while typing for show tooltip\n\t\ttooltipLimit: -1,\t\t\t\t//limit max results to show in tooltip. -1 for no limit, 0 for no results\n\t\ttipAutoSubmit: true,\t\t\t//auto map panTo when click on tooltip\n\t\tfirstTipSubmit: false,\t\t\t//auto select first result con enter click\n\t\tautoResize: true,\t\t\t\t//autoresize on input change\n\t\tcollapsed: true,\t\t\t\t//collapse search control at startup\n\t\tautoCollapse: false,\t\t\t//collapse search control after submit(on button or on tips if enabled tipAutoSubmit)\n\t\tautoCollapseTime: 1200,\t\t\t//delay for autoclosing alert and collapse after blur\n\t\ttextErr: 'Location not found',\t//error message\n\t\ttextCancel: 'Cancel',\t\t    //title in cancel button\t\t\n\t\ttextPlaceholder: 'Search...',   //placeholder value\t\t\t\n\t\thideMarkerOnCollapse: false,    //remove circle and marker on search control collapsed\t\t\n\t\tposition: 'topleft',\t\t\n\t\tmarker: {\t\t\t\t\t\t//custom L.Marker or false for hide\n\t\t\ticon: false,\t\t\t\t//custom L.Icon for maker location or false for hide\n\t\t\tanimate: true,\t\t\t\t//animate a circle over location found\n\t\t\tcircle: {\t\t\t\t\t//draw a circle in location found\n\t\t\t\tradius: 10,\n\t\t\t\tweight: 3,\n\t\t\t\tcolor: '#e03',\n\t\t\t\tstroke: true,\n\t\t\t\tfill: false\n\t\t\t}\n\t\t}\n\t},\n\n\t_getPath: function(obj, prop) {\n\t\tvar parts = prop.split('.'),\n\t\t\tlast = parts.pop(),\n\t\t\tlen = parts.length,\n\t\t\tcur = parts[0],\n\t\t\ti = 1;\n\n\t\tif(len > 0)\n\t\t\twhile((obj = obj[cur]) && i < len)\n\t\t\t\tcur = parts[i++];\n\n\t\tif(obj)\n\t\t\treturn obj[last];\n\t},\n\n\t_isObject: function(obj) {\n\t\treturn Object.prototype.toString.call(obj) === \"[object Object]\";\n\t},\n\n\tinitialize: function(options) {\n\t\tL.Util.setOptions(this, options || {});\n\t\tthis._inputMinSize = this.options.textPlaceholder ? this.options.textPlaceholder.length : 10;\n\t\tthis._layer = this.options.layer || new L.LayerGroup();\n\t\tthis._filterData = this.options.filterData || this._defaultFilterData;\n\t\tthis._formatData = this.options.formatData || this._defaultFormatData;\n\t\tthis._moveToLocation = this.options.moveToLocation || this._defaultMoveToLocation;\n\t\tthis._autoTypeTmp = this.options.autoType;\t//useful for disable autoType temporarily in delete/backspace keydown\n\t\tthis._countertips = 0;\t\t//number of tips items\n\t\tthis._recordsCache = {};\t//key,value table! to store locations! format: key,latlng\n\t\tthis._curReq = null;\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-control-search');\n\t\tthis._input = this._createInput(this.options.textPlaceholder, 'search-input');\n\t\tthis._tooltip = this._createTooltip('search-tooltip');\n\t\tthis._cancel = this._createCancel(this.options.textCancel, 'search-cancel');\n\t\tthis._button = this._createButton(this.options.textPlaceholder, 'search-button');\n\t\tthis._alert = this._createAlert('search-alert');\n\n\t\tif(this.options.collapsed===false)\n\t\t\tthis.expand(this.options.collapsed);\n\n\t\tif(this.options.marker) {\n\t\t\t\n\t\t\tif(this.options.marker instanceof L.Marker || this.options.marker instanceof L.CircleMarker)\n\t\t\t\tthis._markerSearch = this.options.marker;\n\n\t\t\telse if(this._isObject(this.options.marker))\n\t\t\t\tthis._markerSearch = new L.Control.Search.Marker([0,0], this.options.marker);\n\n\t\t\tthis._markerSearch._isMarkerSearch = true;\n\t\t}\n\n\t\tthis.setLayer( this._layer );\n\n\t\tmap.on({\n\t\t\t// \t\t'layeradd': this._onLayerAddRemove,\n\t\t\t// \t\t'layerremove': this._onLayerAddRemove\n\t\t\t'resize': this._handleAutoresize\n\t\t\t}, this);\n\t\treturn this._container;\n\t},\n\taddTo: function (map) {\n\n\t\tif(this.options.container) {\n\t\t\tthis._container = this.onAdd(map);\n\t\t\tthis._wrapper = L.DomUtil.get(this.options.container);\n\t\t\tthis._wrapper.style.position = 'relative';\n\t\t\tthis._wrapper.appendChild(this._container);\n\t\t}\n\t\telse\n\t\t\tL.Control.prototype.addTo.call(this, map);\n\n\t\treturn this;\n\t},\n\n\tonRemove: function(map) {\n\t\tthis._recordsCache = {};\n\t\t// map.off({\n\t\t// \t\t'layeradd': this._onLayerAddRemove,\n\t\t// \t\t'layerremove': this._onLayerAddRemove\n\t\t// \t}, this);\n\t\tmap.off({\n\t\t\t// \t\t'layeradd': this._onLayerAddRemove,\n\t\t\t// \t\t'layerremove': this._onLayerAddRemove\n\t\t\t'resize': this._handleAutoresize\n\t\t\t}, this);\n\t},\n\n\t// _onLayerAddRemove: function(e) {\n\t// \t//without this, run setLayer also for each Markers!! to optimize!\n\t// \tif(e.layer instanceof L.LayerGroup)\n\t// \t\tif( L.stamp(e.layer) != L.stamp(this._layer) )\n\t// \t\t\tthis.setLayer(e.layer);\n\t// },\n\n\tsetLayer: function(layer) {\t//set search layer at runtime\n\t\t//this.options.layer = layer; //setting this, run only this._recordsFromLayer()\n\t\tthis._layer = layer;\n\t\tthis._layer.addTo(this._map);\n\t\treturn this;\n\t},\n\t\n\tshowAlert: function(text) {\n\t\tvar self = this;\n\t\ttext = text || this.options.textErr;\n\t\tthis._alert.style.display = 'block';\n\t\tthis._alert.innerHTML = text;\n\t\tclearTimeout(this.timerAlert);\n\t\t\n\t\tthis.timerAlert = setTimeout(function() {\n\t\t\tself.hideAlert();\n\t\t},this.options.autoCollapseTime);\n\t\treturn this;\n\t},\n\t\n\thideAlert: function() {\n\t\tthis._alert.style.display = 'none';\n\t\treturn this;\n\t},\n\t\t\n\tcancel: function() {\n\t\tthis._input.value = '';\n\t\tthis._handleKeypress({ keyCode: 8 });//simulate backspace keypress\n\t\tthis._input.size = this._inputMinSize;\n\t\tthis._input.focus();\n\t\tthis._cancel.style.display = 'none';\n\t\tthis._hideTooltip();\n\t\tthis.fire('search:cancel');\n\t\treturn this;\n\t},\n\t\n\texpand: function(toggle) {\n\t\ttoggle = typeof toggle === 'boolean' ? toggle : true;\n\t\tthis._input.style.display = 'block';\n\t\tL.DomUtil.addClass(this._container, 'search-exp');\n\t\tif ( toggle !== false ) {\n\t\t\tthis._input.focus();\n\t\t\tthis._map.on('dragstart click', this.collapse, this);\n\t\t}\n\t\tthis.fire('search:expanded');\n\t\treturn this;\t\n\t},\n\n\tcollapse: function() {\n\t\tthis._hideTooltip();\n\t\tthis.cancel();\n\t\tthis._alert.style.display = 'none';\n\t\tthis._input.blur();\n\t\tif(this.options.collapsed)\n\t\t{\n\t\t\tthis._input.style.display = 'none';\n\t\t\tthis._cancel.style.display = 'none';\t\t\t\n\t\t\tL.DomUtil.removeClass(this._container, 'search-exp');\t\t\n\t\t\tif (this.options.hideMarkerOnCollapse) {\n\t\t\t\tthis._map.removeLayer(this._markerSearch);\n\t\t\t}\n\t\t\tthis._map.off('dragstart click', this.collapse, this);\n\t\t}\n\t\tthis.fire('search:collapsed');\n\t\treturn this;\n\t},\n\t\n\tcollapseDelayed: function() {\t//collapse after delay, used on_input blur\n\t\tvar self = this;\n\t\tif (!this.options.autoCollapse) return this;\n\t\tclearTimeout(this.timerCollapse);\n\t\tthis.timerCollapse = setTimeout(function() {\n\t\t\tself.collapse();\n\t\t}, this.options.autoCollapseTime);\n\t\treturn this;\t\t\n\t},\n\n\tcollapseDelayedStop: function() {\n\t\tclearTimeout(this.timerCollapse);\n\t\treturn this;\t\t\n\t},\n\n\t////start DOM creations\n\t_createAlert: function(className) {\n\t\tvar alert = L.DomUtil.create('div', className, this._container);\n\t\talert.style.display = 'none';\n\n\t\tL.DomEvent\n\t\t\t.on(alert, 'click', L.DomEvent.stop, this)\n\t\t\t.on(alert, 'click', this.hideAlert, this);\n\n\t\treturn alert;\n\t},\n\n\t_createInput: function (text, className) {\n\t\tvar self = this;\n\t\tvar label = L.DomUtil.create('label', className, this._container);\n\t\tvar input = L.DomUtil.create('input', className, this._container);\n\t\tinput.type = 'text';\n\t\tinput.size = this._inputMinSize;\n\t\tinput.value = '';\n\t\tinput.autocomplete = 'off';\n\t\tinput.autocorrect = 'off';\n\t\tinput.autocapitalize = 'off';\n\t\tinput.placeholder = text;\n\t\tinput.style.display = 'none';\n\t\tinput.role = 'search';\n\t\tinput.id = input.role + input.type + input.size;\n\t\t\n\t\tlabel.htmlFor = input.id;\n\t\tlabel.style.display = 'none';\n\t\tlabel.value = text;\n\n\t\tL.DomEvent\n\t\t\t.disableClickPropagation(input)\n\t\t\t.on(input, 'keyup', this._handleKeypress, this)\n\t\t\t.on(input, 'paste', function(e) {\n\t\t\t\tsetTimeout(function(e) {\n\t\t\t\t\tself._handleKeypress(e);\n\t\t\t\t},10,e);\n\t\t\t}, this)\n\t\t\t.on(input, 'blur', this.collapseDelayed, this)\n\t\t\t.on(input, 'focus', this.collapseDelayedStop, this);\n\t\t\n\t\treturn input;\n\t},\n\n\t_createCancel: function (title, className) {\n\t\tvar cancel = L.DomUtil.create('a', className, this._container);\n\t\tcancel.href = '#';\n\t\tcancel.title = title;\n\t\tcancel.style.display = 'none';\n\t\tcancel.innerHTML = \"<span>&otimes;</span>\";//imageless(see css)\n\n\t\tL.DomEvent\n\t\t\t.on(cancel, 'click', L.DomEvent.stop, this)\n\t\t\t.on(cancel, 'click', this.cancel, this);\n\n\t\treturn cancel;\n\t},\n\t\n\t_createButton: function (title, className) {\n\t\tvar button = L.DomUtil.create('a', className, this._container);\n\t\tbutton.href = '#';\n\t\tbutton.title = title;\n\n\t\tL.DomEvent\n\t\t\t.on(button, 'click', L.DomEvent.stop, this)\n\t\t\t.on(button, 'click', this._handleSubmit, this)\t\t\t\n\t\t\t.on(button, 'focus', this.collapseDelayedStop, this)\n\t\t\t.on(button, 'blur', this.collapseDelayed, this);\n\n\t\treturn button;\n\t},\n\n\t_createTooltip: function(className) {\n\t\tvar self = this;\t\t\n\t\tvar tool = L.DomUtil.create('ul', className, this._container);\n\t\ttool.style.display = 'none';\n\t\tL.DomEvent\n\t\t\t.disableClickPropagation(tool)\n\t\t\t.on(tool, 'blur', this.collapseDelayed, this)\n\t\t\t.on(tool, 'wheel', function(e) {\n\t\t\t\tself.collapseDelayedStop();\n\t\t\t\tL.DomEvent.stopPropagation(e);//disable zoom map\n\t\t\t}, this)\n\t\t\t.on(tool, 'mouseover', function(e) {\n\t\t\t\tself.collapseDelayedStop();\n\t\t\t}, this);\n\t\treturn tool;\n\t},\n\n\t_createTip: function(text, val) {//val is object in recordCache, usually is Latlng\n\t\tvar tip;\n\t\t\n\t\tif(this.options.buildTip)\n\t\t{\n\t\t\ttip = this.options.buildTip.call(this, text, val); //custom tip node or html string\n\t\t\tif(typeof tip === 'string')\n\t\t\t{\n\t\t\t\tvar tmpNode = L.DomUtil.create('div');\n\t\t\t\ttmpNode.innerHTML = tip;\n\t\t\t\ttip = tmpNode.firstChild;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttip = L.DomUtil.create('li', '');\n\t\t\ttip.innerHTML = text;\n\t\t}\n\t\t\n\t\tL.DomUtil.addClass(tip, 'search-tip');\n\t\ttip._text = text; //value replaced in this._input and used by _autoType\n\n\t\tif(this.options.tipAutoSubmit)\n\t\t\tL.DomEvent\n\t\t\t\t.disableClickPropagation(tip)\t\t\n\t\t\t\t.on(tip, 'click', L.DomEvent.stop, this)\n\t\t\t\t.on(tip, 'click', function(e) {\n\t\t\t\t\tthis._input.value = text;\n\t\t\t\t\tthis._handleAutoresize();\n\t\t\t\t\tthis._input.focus();\n\t\t\t\t\tthis._hideTooltip();\t\n\t\t\t\t\tthis._handleSubmit();\n\t\t\t\t}, this);\n\n\t\treturn tip;\n\t},\n\n\t//////end DOM creations\n\n\t_getUrl: function(text) {\n\t\treturn (typeof this.options.url === 'function') ? this.options.url(text) : this.options.url;\n\t},\n\n\t_defaultFilterData: function(text, records) {\n\t\n\t\tvar init, icase, regSearch, frecords = {};\n\n\t\ttext = text.replace(/[.*+?^${}()|[\\]\\\\]/g, '');\n\t\t//sanitize remove all special characters\n\n\t\tif(text==='') {\n\t\t\treturn [];\n\t\t}\n\n\t\tinit = this.options.initial ? '^' : '';\n\t\ticase = !this.options.casesensitive ? 'i' : undefined;\n\n\t\tregSearch = new RegExp(init + text, icase);\n\n\t\tfor (let key in records) {\n\t\t\tif( regSearch.test(key) ) {\n\t\t\t\tfrecords[key]= records[key];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn frecords;\n\t},\n\n\tshowTooltip: function(records) {\n\t\t\n\t\tthis._countertips = 0;\n\t\tthis._tooltip.innerHTML = '';\n\t\tthis._tooltip.currentSelection = -1;  //inizialized for _handleArrowSelect()\n\n\t\tif(this.options.tooltipLimit)\n\t\t{\n\t\t\tfor (let key in records)\t//fill tooltip\n\t\t\t{\n\t\t\t\tif(this._countertips === this.options.tooltipLimit) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis._countertips++;\n\n\t\t\t\tthis._tooltip.appendChild( this._createTip(key, records[key]) );\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(this._countertips > 0)\n\t\t{\n\t\t\tthis._tooltip.style.display = 'block';\n\t\t\t\n\t\t\tif(this._autoTypeTmp) {\n\t\t\t\tthis._autoType();\n\t\t\t}\n\n\t\t\tthis._autoTypeTmp = this.options.autoType;//reset default value\n\t\t}\n\t\telse {\n\t\t\tthis._hideTooltip();\n\t\t}\n\n\t\tthis._tooltip.scrollTop = 0;\n\n\t\treturn this._countertips;\n\t},\n\n\t_hideTooltip: function() {\n\t\tthis._tooltip.style.display = 'none';\n\t\tthis._tooltip.innerHTML = '';\n\t\treturn 0;\n\t},\n\n\t_defaultFormatData: function(json) {\t//default callback for format data to indexed data\n\t\tvar self = this,\n\t\t\tpropName = this.options.propertyName,\n\t\t\tpropLoc = this.options.propertyLoc,\n\t\t\tjsonret = {};\n\n\t\tif( L.Util.isArray(propLoc) ) {\n\t\t\tfor (let i in json) {\n\t\t\t\tjsonret[ self._getPath(json[i],propName) ]= L.latLng( self._getPath(json[i], propLoc[0]), self._getPath(json[i], propLoc[1]) );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (let i in json) {\n\t\t\t\tjsonret[ self._getPath(json[i],propName) ]= L.latLng( self._getPath(json[i],propLoc) );\n\t\t\t}\n\t\t}\n\t\t//TODO throw new Error(\"propertyName '\"+propName+\"' not found in JSON data\");\n\t\treturn jsonret;\n\t},\n\n\t_recordsFromJsonp: function(text, callAfter) {  //extract searched records from remote jsonp service\n\t\tL.Control.Search.callJsonp = callAfter;\n\t\tvar script = L.DomUtil.create('script','leaflet-search-jsonp', document.getElementsByTagName('body')[0] ),\t\t\t\n\t\t\turl = L.Util.template(this._getUrl(text)+'&'+this.options.jsonpParam+'=L.Control.Search.callJsonp', {s: text}); //parsing url\n\t\t\t//rnd = '&_='+Math.floor(Math.random()*10000);\n\t\t\t//TODO add rnd param or randomize callback name! in recordsFromJsonp\n\t\tscript.type = 'text/javascript';\n\t\tscript.src = url;\n\t\treturn { abort: function() { script.parentNode.removeChild(script); } };\n\t},\n\n\t_recordsFromAjax: function(text, callAfter) {\t//Ajax request\n\t\tif (window.XMLHttpRequest === undefined) {\n\t\t\twindow.XMLHttpRequest = function() {\n\t\t\t\ttry { return new ActiveXObject(\"Microsoft.XMLHTTP.6.0\"); }\n\t\t\t\tcatch  (e1) {\n\t\t\t\t\ttry { return new ActiveXObject(\"Microsoft.XMLHTTP.3.0\"); }\n\t\t\t\t\tcatch (e2) { throw new Error(\"XMLHttpRequest is not supported\"); }\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tvar IE8or9 = ( L.Browser.ie && !window.atob && document.querySelector ),\n\t\t\trequest = IE8or9 ? new XDomainRequest() : new XMLHttpRequest(),\n\t\t\turl = L.Util.template(this._getUrl(text), {s: text});\n\n\t\t//rnd = '&_='+Math.floor(Math.random()*10000);\n\t\t//TODO add rnd param or randomize callback name! in recordsFromAjax\t\t\t\n\t\t\n\t\trequest.open(\"GET\", url);\n\t\t\n\n\t\trequest.onload = function() {\n\t\t\tcallAfter( JSON.parse(request.responseText) );\n\t\t};\n\t\trequest.onreadystatechange = function() {\n\t\t    if(request.readyState === 4 && request.status === 200) {\n\t\t    \tthis.onload();\n\t\t    }\n\t\t};\n\n\t\trequest.send();\n\t\treturn request;   \n\t},\n\n  _searchInLayer: function(layer, retRecords, propName) {\n    var self = this, loc;\n\n    if(layer instanceof L.Control.Search.Marker) return;\n\n    if(layer instanceof L.Marker || layer instanceof L.CircleMarker)\n    {\n      if(self._getPath(layer.options,propName))\n      {\n        loc = layer.getLatLng();\n        loc.layer = layer;\n        retRecords[ self._getPath(layer.options,propName) ] = loc;\n      }\n      else if(self._getPath(layer.feature.properties,propName))\n      {\n        loc = layer.getLatLng();\n        loc.layer = layer;\n        retRecords[ self._getPath(layer.feature.properties,propName) ] = loc;\n      }\n      else {\n        //throw new Error(\"propertyName '\"+propName+\"' not found in marker\"); \n         \n      }\n    }\n    else if(layer instanceof L.Path || layer instanceof L.Polyline || layer instanceof L.Polygon)\n    {\n      if(self._getPath(layer.options,propName))\n      {\n        loc = layer.getBounds().getCenter();\n        loc.layer = layer;\n        retRecords[ self._getPath(layer.options,propName) ] = loc;\n      }\n      else if(self._getPath(layer.feature.properties,propName))\n      {\n        loc = layer.getBounds().getCenter();\n        loc.layer = layer;\n        retRecords[ self._getPath(layer.feature.properties,propName) ] = loc;\n      }\n      else {\n        //throw new Error(\"propertyName '\"+propName+\"' not found in shape\"); \n         \n      }\n    }\n    else if(layer.hasOwnProperty('feature'))//GeoJSON\n    {\n      if(layer.feature.properties.hasOwnProperty(propName))\n      {\n        if(layer.getLatLng && typeof layer.getLatLng === 'function') {\n          loc = layer.getLatLng();\n          loc.layer = layer;\t\t\t\n          retRecords[ layer.feature.properties[propName] ] = loc;\n        } else if(layer.getBounds && typeof layer.getBounds === 'function') {\n          loc = layer.getBounds().getCenter();\n          loc.layer = layer;\t\t\t\n          retRecords[ layer.feature.properties[propName] ] = loc;\n        } else {\n          \n        }\n      }\n      else {\n        //throw new Error(\"propertyName '\"+propName+\"' not found in feature\");\n         \n      }\n    }\n    else if(layer instanceof L.LayerGroup)\n    {\n      layer.eachLayer(function (layer) {\n        self._searchInLayer(layer, retRecords, propName);\n      });\n    }\n  },\n\t\n\t_recordsFromLayer: function() {\t//return table: key,value from layer\n\t\tvar self = this,\n\t\t\tretRecords = {},\n\t\t\tpropName = this.options.propertyName;\n\t\t\n\t\tthis._layer.eachLayer(function (layer) {\n\t\t\tself._searchInLayer(layer, retRecords, propName);\n\t\t});\n\t\t\n\t\treturn retRecords;\n\t},\n\t\n\t_autoType: function() {\n\t\t\n\t\t//TODO implements autype without selection(useful for mobile device)\n\t\t\n\t\tvar start = this._input.value.length,\n\t\t\tfirstRecord = this._tooltip.firstChild ? this._tooltip.firstChild._text : '',\n\t\t\tend = firstRecord.length;\n\n\t\tif (firstRecord.indexOf(this._input.value) === 0) { // If prefix match\n\t\t\tthis._input.value = firstRecord;\n\t\t\tthis._handleAutoresize();\n\n\t\t\tif (this._input.createTextRange) {\n\t\t\t\tvar selRange = this._input.createTextRange();\n\t\t\t\tselRange.collapse(true);\n\t\t\t\tselRange.moveStart('character', start);\n\t\t\t\tselRange.moveEnd('character', end);\n\t\t\t\tselRange.select();\n\t\t\t}\n\t\t\telse if(this._input.setSelectionRange) {\n\t\t\t\tthis._input.setSelectionRange(start, end);\n\t\t\t}\n\t\t\telse if(this._input.selectionStart) {\n\t\t\t\tthis._input.selectionStart = start;\n\t\t\t\tthis._input.selectionEnd = end;\n\t\t\t}\n\t\t}\n\t},\n\n\t_hideAutoType: function() {\t// deselect text:\n\n\t\tvar sel;\n\t\tif ((sel = this._input.selection) && sel.empty) {\n\t\t\tsel.empty();\n\t\t}\n\t\telse if (this._input.createTextRange) {\n\t\t\tsel = this._input.createTextRange();\n\t\t\tsel.collapse(true);\n\t\t\tvar end = this._input.value.length;\n\t\t\tsel.moveStart('character', end);\n\t\t\tsel.moveEnd('character', end);\n\t\t\tsel.select();\n\t\t}\n\t\telse {\n\t\t\tif (this._input.getSelection) {\n\t\t\t\tthis._input.getSelection().removeAllRanges();\n\t\t\t}\n\t\t\tthis._input.selectionStart = this._input.selectionEnd;\n\t\t}\n\t},\n\t\n\t_handleKeypress: function (e) {\t//run _input keyup event\n\t\tvar self = this;\n\n\t\tswitch(e.keyCode)\n\t\t{\n\t\t\tcase 27://Esc\n\t\t\t\tthis.collapse();\n\t\t\tbreak;\n\t\t\tcase 13://Enter\n\t\t\t\tif(this._countertips == 1 || (this.options.firstTipSubmit && this._countertips > 0)) {\n          \t\t\tif(this._tooltip.currentSelection == -1) {\n\t\t\t\t\t\tthis._handleArrowSelect(1);\n          \t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._handleSubmit();\t//do search\n\t\t\tbreak;\n\t\t\tcase 38://Up\n\t\t\t\tthis._handleArrowSelect(-1);\n\t\t\tbreak;\n\t\t\tcase 40://Down\n\t\t\t\tthis._handleArrowSelect(1);\n\t\t\tbreak;\n\t\t\tcase  8://Backspace\n\t\t\tcase 45://Insert\n\t\t\tcase 46://Delete\n\t\t\t\tthis._autoTypeTmp = false;//disable temporarily autoType\n\t\t\tbreak;\n\t\t\tcase 37://Left\n\t\t\tcase 39://Right\n\t\t\tcase 16://Shift\n\t\t\tcase 17://Ctrl\n\t\t\tcase 35://End\n\t\t\tcase 36://Home\n\t\t\tbreak;\n\t\t\tdefault://All keys\n\t\t\t\tif(this._input.value.length)\n\t\t\t\t\tthis._cancel.style.display = 'block';\n\t\t\t\telse\n\t\t\t\t\tthis._cancel.style.display = 'none';\n\n\t\t\t\tif(this._input.value.length >= this.options.minLength)\n\t\t\t\t{\n\t\t\t\t\tclearTimeout(this.timerKeypress);\t//cancel last search request while type in\t\t\t\t\n\t\t\t\t\tthis.timerKeypress = setTimeout(function() {\t//delay before request, for limit jsonp/ajax request\n\n\t\t\t\t\t\tself._fillRecordsCache();\n\t\t\t\t\t\n\t\t\t\t\t}, this.options.delayType);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis._hideTooltip();\n\t\t}\n\n\t\tthis._handleAutoresize();\n\t},\n\n\tsearchText: function(text) {\n\t\tvar code = text.charCodeAt(text.length);\n\n\t\tthis._input.value = text;\n\n\t\tthis._input.style.display = 'block';\n\t\tL.DomUtil.addClass(this._container, 'search-exp');\n\n\t\tthis._autoTypeTmp = false;\n\n\t\tthis._handleKeypress({keyCode: code});\n\t},\n\t\n\t_fillRecordsCache: function() {\n\n\t\tvar self = this,\n\t\t\tinputText = this._input.value, records;\n\n\t\tif(this._curReq && this._curReq.abort)\n\t\t\tthis._curReq.abort();\n\t\t//abort previous requests\n\n\t\tL.DomUtil.addClass(this._container, 'search-load');\t\n\n\t\tif(this.options.layer)\n\t\t{\n\t\t\t//TODO _recordsFromLayer must return array of objects, formatted from _formatData\n\t\t\tthis._recordsCache = this._recordsFromLayer();\n\t\t\t\n\t\t\trecords = this._filterData( this._input.value, this._recordsCache );\n\n\t\t\tthis.showTooltip( records );\n\n\t\t\tL.DomUtil.removeClass(this._container, 'search-load');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(this.options.sourceData)\n\t\t\t\tthis._retrieveData = this.options.sourceData;\n\n\t\t\telse if(this.options.url)\t//jsonp or ajax\n\t\t\t\tthis._retrieveData = this.options.jsonpParam ? this._recordsFromJsonp : this._recordsFromAjax;\n\n\t\t\tthis._curReq = this._retrieveData.call(this, inputText, function(data) {\n\t\t\t\t\n\t\t\t\tself._recordsCache = self._formatData.call(self, data);\n\n\t\t\t\t//TODO refact!\n\t\t\t\tif(self.options.sourceData)\n\t\t\t\t\trecords = self._filterData( self._input.value, self._recordsCache );\n\t\t\t\telse\n\t\t\t\t\trecords = self._recordsCache;\n\n\t\t\t\tself.showTooltip( records );\n \n\t\t\t\tL.DomUtil.removeClass(self._container, 'search-load');\n\t\t\t});\n\t\t}\n\t},\n\t\n\t_handleAutoresize: function() {\n\t    var maxWidth;\n\n\t\tif (this._input.style.maxWidth !== this._map._container.offsetWidth) {\n\t\t\tmaxWidth = this._map._container.clientWidth;\n\n\t\t\t// other side margin + padding + width border + width search-button + width search-cancel\n\t\t\tmaxWidth -= 10 + 20 + 1 + 30 + 22; \n\n\t\t\tthis._input.style.maxWidth = maxWidth.toString() + 'px';\n\t\t}\n\n\t\tif (this.options.autoResize && (this._container.offsetWidth + 20 < this._map._container.offsetWidth)) {\n\t\t\tthis._input.size = this._input.value.length < this._inputMinSize ? this._inputMinSize : this._input.value.length;\n\t\t}\n\t},\n\n\t_handleArrowSelect: function(velocity) {\n\t\n\t\tvar searchTips = this._tooltip.hasChildNodes() ? this._tooltip.childNodes : [];\n\t\t\t\n\t\tfor (let i=0; i<searchTips.length; i++) {\n\t\t\tL.DomUtil.removeClass(searchTips[i], 'search-tip-select');\n\t\t}\n\t\t\n\t\tif ((velocity == 1 ) && (this._tooltip.currentSelection >= (searchTips.length - 1))) {// If at end of list.\n\t\t\tL.DomUtil.addClass(searchTips[this._tooltip.currentSelection], 'search-tip-select');\n\t\t}\n\t\telse if ((velocity == -1 ) && (this._tooltip.currentSelection <= 0)) { // Going back up to the search box.\n\t\t\tthis._tooltip.currentSelection = -1;\n\t\t}\n\t\telse if (this._tooltip.style.display != 'none') {\n\t\t\tthis._tooltip.currentSelection += velocity;\n\t\t\t\n\t\t\tL.DomUtil.addClass(searchTips[this._tooltip.currentSelection], 'search-tip-select');\n\t\t\t\n\t\t\tthis._input.value = searchTips[this._tooltip.currentSelection]._text;\n\n\t\t\t// scroll:\n\t\t\tvar tipOffsetTop = searchTips[this._tooltip.currentSelection].offsetTop;\n\t\t\t\n\t\t\tif (tipOffsetTop + searchTips[this._tooltip.currentSelection].clientHeight >= this._tooltip.scrollTop + this._tooltip.clientHeight) {\n\t\t\t\tthis._tooltip.scrollTop = tipOffsetTop - this._tooltip.clientHeight + searchTips[this._tooltip.currentSelection].clientHeight;\n\t\t\t}\n\t\t\telse if (tipOffsetTop <= this._tooltip.scrollTop) {\n\t\t\t\tthis._tooltip.scrollTop = tipOffsetTop;\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleSubmit: function() {\t//button and tooltip click and enter submit\n\n\t\tthis._hideAutoType();\n\t\t\n\t\tthis.hideAlert();\n\t\tthis._hideTooltip();\n\n\t\tif(this._input.style.display == 'none')\t//on first click show _input only\n\t\t\tthis.expand();\n\t\telse\n\t\t{\n\t\t\tif(this._input.value === '')\t//hide _input only\n\t\t\t\tthis.collapse();\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar loc = this._getLocation(this._input.value);\n\t\t\t\t\n\t\t\t\tif(!loc) {\n\t\t\t\t\tthis.showAlert();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.showLocation(loc, this._input.value);\n\t\t\t\t\tthis.fire('search:locationfound', {\n\t\t\t\t\t\t\tlatlng: loc,\n\t\t\t\t\t\t\ttext: this._input.value,\n\t\t\t\t\t\t\tlayer: loc.layer ? loc.layer : null\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_getLocation: function(key) {\t//extract latlng from _recordsCache\n\n\t\tif( this._recordsCache.hasOwnProperty(key) )\n\t\t\treturn this._recordsCache[key];//then after use .loc attribute\n\t\telse\n\t\t\treturn false;\n\t},\n\n\t_defaultMoveToLocation: function(latlng, title, map) {\n\t\tif(this.options.zoom)\n \t\t\tthis._map.setView(latlng, this.options.zoom);\n \t\telse\n\t\t\tthis._map.panTo(latlng);\n\t},\n\n\tshowLocation: function(latlng, title) {\t//set location on map from _recordsCache\n\t\tvar self = this;\n\n\t\tself._map.once('moveend zoomend', function(e) {\n\n\t\t\tif(self._markerSearch) {\n\t\t\t\tself._markerSearch.addTo(self._map).setLatLng(latlng);\n\t\t\t}\n\t\t\t\n\t\t});\n\n\t\tself._moveToLocation(latlng, title, self._map);\n\t\t//FIXME autoCollapse option hide self._markerSearch before visualized!!\n\t\tif(self.options.autoCollapse)\n\t\t\tself.collapse();\n\n\t\treturn self;\n\t}\n});\n\nL.Control.Search.Marker = L.Marker.extend({\n\n\tincludes: L.version[0]==='1' ? L.Evented.prototype : L.Mixin.Events,\n\t\n\toptions: {\n\t\ticon: new L.Icon.Default(),\n\t\tanimate: true,\n\t\tcircle: {\n\t\t\tradius: 10,\n\t\t\tweight: 3,\n\t\t\tcolor: '#e03',\n\t\t\tstroke: true,\n\t\t\tfill: false\n\t\t}\n\t},\n\t\n\tinitialize: function (latlng, options) {\n\t\tL.setOptions(this, options);\n\n\t\tif(options.icon === true)\n\t\t\toptions.icon = new L.Icon.Default();\n\n\t\tL.Marker.prototype.initialize.call(this, latlng, options);\n\t\t\n\t\tif( L.Control.Search.prototype._isObject(this.options.circle) )\n\t\t\tthis._circleLoc = new L.CircleMarker(latlng, this.options.circle);\n\t},\n\n\tonAdd: function (map) {\n\t\tL.Marker.prototype.onAdd.call(this, map);\n\t\tif(this._circleLoc) {\n\t\t\tmap.addLayer(this._circleLoc);\n\t\t\tif(this.options.animate)\n\t\t\t\tthis.animate();\n\t\t}\n\t},\n\n\tonRemove: function (map) {\n\t\tL.Marker.prototype.onRemove.call(this, map);\n\t\tif(this._circleLoc)\n\t\t\tmap.removeLayer(this._circleLoc);\n\t},\n\t\n\tsetLatLng: function (latlng) {\n\t\tL.Marker.prototype.setLatLng.call(this, latlng);\n\t\tif(this._circleLoc)\n\t\t\tthis._circleLoc.setLatLng(latlng);\n\t\treturn this;\n\t},\n\t\n\t_initIcon: function () {\n\t\tif(this.options.icon)\n\t\t\tL.Marker.prototype._initIcon.call(this);\n\t},\n\n\t_removeIcon: function () {\n\t\tif(this.options.icon)\n\t\t\tL.Marker.prototype._removeIcon.call(this);\n\t},\n\n\tanimate: function() {\n\t//TODO refact animate() more smooth! like this: http://goo.gl/DDlRs\n\t\tif(this._circleLoc)\n\t\t{\n\t\t\tvar circle = this._circleLoc,\n\t\t\t\ttInt = 200,\t//time interval\n\t\t\t\tss = 5,\t//frames\n\t\t\t\tmr = parseInt(circle._radius/ss),\n\t\t\t\toldrad = this.options.circle.radius,\n\t\t\t\tnewrad = circle._radius * 2,\n\t\t\t\tacc = 0;\n\n\t\t\tcircle._timerAnimLoc = setInterval(function() {\n\t\t\t\tacc += 0.5;\n\t\t\t\tmr += acc;\t//adding acceleration\n\t\t\t\tnewrad -= mr;\n\t\t\t\t\n\t\t\t\tcircle.setRadius(newrad);\n\n\t\t\t\tif(newrad<oldrad)\n\t\t\t\t{\n\t\t\t\t\tclearInterval(circle._timerAnimLoc);\n\t\t\t\t\tcircle.setRadius(oldrad);//reset radius\n\t\t\t\t\t//if(typeof afterAnimCall == 'function')\n\t\t\t\t\t\t//afterAnimCall();\n\t\t\t\t\t\t//TODO use create event 'animateEnd' in L.Control.Search.Marker \n\t\t\t\t}\n\t\t\t}, tInt);\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n});\n\nL.Map.addInitHook(function () {\n    if (this.options.searchControl) {\n        this.searchControl = L.control.search(this.options.searchControl);\n        this.addControl(this.searchControl);\n    }\n});\n\nL.control.search = function (options) {\n    return new L.Control.Search(options);\n};\n\nreturn L.Control.Search;\n\n});\n\n\n"],
  "mappings": "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",
  "names": ["e", "layer"]
}
